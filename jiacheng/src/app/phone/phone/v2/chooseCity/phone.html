<!DOCTYPE html>
<html lang="en" xmlns:href="http://www.w3.org/1999/xhtml">
<head>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <link rel="stylesheet" type="text/css" href="phone.css"/>
    <meta charset="UTF-8">
    <title>透明车间</title>
</head>
<body>
<div id="vue">
    <div class="all">
        <div class="top">
            <img src="../../../../../img/phone/logobeifen2.png"/>
            <div class="img-favourite">
                <img src="../../../../../img/phone/favourite.svg">
            </div>
            <div class="img-nearest">
                <img src="../../../../../img/phone/nearest.svg">
            </div>
        </div>
        <div class="select">
            <div class="city" v-on:click="goBack">
                <div v-if="cityName == ''">请选择地区</div>
                {{cityName}}
            </div>
            <div class="input">
                <input type="text" placeholder="请输入城市名称" id="CityInput" v-on:input="findCity" v-model="searchInput">
            </div>
        </div>
        <div class="hold"></div>
    </div>

    <div class="body-place" v-if="!isCompany">
        <div class="left">
            <div v-for="(city,index) in places" :id="index" v-bind:class="classHead">
                <div id="title">{{city.title}}</div>
                <div v-for="value in city.city" v-bind:class="classBody"
                     v-on:click="findCompany(value.id,value.value)">
                    {{value.value}}
                </div>
            </div>

        </div>
        <div class="right">
            <div v-for="(placesTitle,index) in allPlaces">
                <a :href="`#${index}`">{{placesTitle.title}}</a>
            </div>
        </div>
    </div>
    <div class="body-company" v-if="isCompany">
        <template v-for="dealer in dealerList[currentDealer]">
            <div v-bind:class="classCompany">{{dealer.text}}</div>
        </template>
        <!--        <template v-for="dealer in dealerListById">-->
        <!--            <div v-bind:class="classCompany" v-bind:companyId="dealer.id">{{dealer.text}}</div>-->
        <!--        </template>-->
    </div>

</div>
</body>
<script>
    var bodyPlace = new Vue({
        el: '#vue',
        data: {
            places: [],
            allPlaces: [
                {
                    title: 'A',
                    city: [
                        {id: '11', value: '阿克苏地区'},
                        {id: '12', value: '爱迪生'},
                        {id: '13', value: '安格尔'},
                        {id: '14', value: '安徽'}
                    ]
                },
                {
                    title: 'B',
                    city: [
                        {id: '21', value: '巴斯德'},
                        {id: '22', value: '把册封'},
                        {id: '23', value: '北京'},
                        {id: '24', value: '便可以'}
                    ]
                },
                {
                    title: 'C',
                    city: [
                        {id: '31', value: '123'},
                        {id: '32', value: '51'},
                        {id: '33', value: '34'},
                        {id: '34', value: '326'}
                    ]
                },
                {
                    title: 'D',
                    city: [
                        {id: '31', value: '大连'},
                        {id: '32', value: '大庆'},
                    ]
                },
                {
                    title: 'E',
                    city: [
                        {id: '34', value: 'c2r3'}
                    ]
                },
                {
                    title: 'F',
                    city: [
                        {id: '31', value: '他让我把'},
                        {id: '32', value: 'r43t'},
                        {id: '34', value: 'c2r3'}
                    ]
                },
                {
                    title: 'G',
                    city: [
                        {id: '31', value: '3如r'},
                        {id: '32', value: '我刚收到'},
                        {id: '33', value: '额外V'},
                        {id: '34', value: 'c2r3'},
                        {id: '34', value: 'b啊啊'},
                        {id: '34', value: '爱吃删除'},
                    ]
                },
                {
                    title: 'H',
                    city: [
                        {id: '31', value: '的AW'},
                        {id: '32', value: '果然阿·'},

                    ]
                },
                {
                    title: 'I',
                    city: [
                        {id: '31', value: '的AW'},
                        {id: '32', value: '果然阿·'},

                    ]
                },
                {
                    title: 'J',
                    city: [
                        {id: '34', value: 'c2r3'}
                    ]
                },
                {
                    title: 'K',
                    city: [
                        {id: '31', value: '他让我把'},
                        {id: '32', value: 'r43t'},
                        {id: '34', value: 'c2r3'}
                    ]
                },
                {
                    title: 'L',
                    city: [
                        {id: '31', value: '3如r'},
                        {id: '32', value: '我刚收到'},
                        {id: '33', value: '额外V'},
                        {id: '34', value: 'c2r3'},
                        {id: '34', value: 'b啊啊'},
                        {id: '34', value: '爱吃删除'},
                    ]
                },
                {
                    title: 'M',
                    city: [
                        {id: '31', value: '的AW'},
                        {id: '32', value: '果然阿·'},

                    ]
                },
                {
                    title: 'N',
                    city: [
                        {id: '31', value: '的AW'},
                        {id: '32', value: '果然阿·'},

                    ]
                },
                {
                    title: 'O',
                    city: [
                        {id: '31', value: '123'},
                        {id: '32', value: '51'},
                        {id: '33', value: '34'},
                        {id: '34', value: '326'}
                    ]
                },
                {
                    title: 'P',
                    city: [
                        {id: '31', value: '12D31'},
                        {id: '32', value: 'C312V4'},
                    ]
                },
                {
                    title: 'Q',
                    city: [
                        {id: '34', value: 'c2r3'}
                    ]
                },
                {
                    title: 'R',
                    city: [
                        {id: '31', value: '他让我把'},
                        {id: '32', value: 'r43t'},
                        {id: '34', value: 'c2r3'}
                    ]
                },
                {
                    title: 'S',
                    city: [
                        {id: '31', value: '3如r'},
                        {id: '32', value: '我刚收到'},
                        {id: '33', value: '额外V'},
                        {id: '34', value: 'c2r3'},
                        {id: '34', value: 'b啊啊'},
                        {id: '34', value: '爱吃删除'},
                    ]
                },
                {
                    title: 'T',
                    city: [
                        {id: '31', value: '唐山'},
                        {id: '32', value: '果然阿·'},

                    ]
                },
                {
                    title: 'U',
                    city: [
                        {id: '31', value: '的AW'},
                        {id: '32', value: '果然阿·'},

                    ]
                },
                {
                    title: 'V',
                    city: [
                        {id: '34', value: 'c2r3'}
                    ]
                },
                {
                    title: 'W',
                    city: [
                        {id: '31', value: '他让我把'},
                        {id: '32', value: 'r43t'},
                        {id: '34', value: 'c2r3'}
                    ]
                },
                {
                    title: 'X',
                    city: [
                        {id: '31', value: '3如r'},
                        {id: '32', value: '我刚收到'},
                        {id: '33', value: '额外V'},
                        {id: '34', value: 'c2r3'},
                        {id: '34', value: 'b啊啊'},
                        {id: '34', value: '爱吃删除'},
                    ]
                },
                {
                    title: 'Y',
                    city: [
                        {id: '31', value: '的AW'},
                        {id: '32', value: '果然阿·'},

                    ]
                },
                {
                    title: 'Z',
                    city: [
                        {id: '31', value: '的AW'},
                        {id: '32', value: '果然阿·'},

                    ]
                },
            ],
            dealerList: {
                11: [
                    {id: 'a11', text: '北11京之星'},
                    {id: 'a12', text: '北京11之星'},
                    {id: 'a13', text: '北京之11星'},
                    {id: 'a14', text: '北京之星11'}
                ],
                12: [
                    {id: 'a21', text: '北22京之星'},
                    {id: 'a22', text: '北京22之星'},
                    {id: 'a23', text: '北京之22星'},
                ],
                13: [
                    {id: 'a31', text: '北13京之星'},
                    {id: 'a32', text: '北京13之星'},
                    {id: 'a33', text: '北京之13星'},
                    {id: 'a34', text: '北京之星13'}
                ],
                14: [
                    {id: 'a22', text: '北京22之星'},
                    {id: 'a22', text: '北京22之星'},
                ],
            },
            dealerList2: [
                {
                    id: 11, value: [
                        {id: 'a11', text: '北京111之星'},
                        {id: 'a12', text: '北京22之星'},
                        {id: 'a13', text: '北京22之星'},
                        {id: 'a14', text: '北京22之星'}
                    ]
                },
                {
                    id: 12, value: [
                        {id: 'a11', text: '北京111之星'},
                        {id: 'a12', text: '北京22之星'},
                        {id: 'a13', text: '北京22之星'},
                        {id: 'a14', text: '北京22之星'}
                    ]
                },
                {
                    id: 13, value: [
                        {id: 'a11', text: '北京111之星'},
                        {id: 'a12', text: '北京22之星'},
                        {id: 'a13', text: '北京22之星'},
                        {id: 'a14', text: '北京22之星'}
                    ]
                }
            ],
            classHead: 'head',
            classBody: 'body',
            classCompany: 'company',
            isCompany: false,
            dealerListById: [],
            currentDealer: null,
            cityName: '',
            searchInput: '',
        },
        beforeMount() {
            this.places = this.allPlaces;
        },

        methods: {
            findCompany: function (cityId, cityName) {
                this.isCompany = true;
                this.currentDealer = cityId;
                this.cityName = cityName;

                // var a = this.dealerList2.filter(function (item){
                //         return item.id == cityId;
                // })
                // this.dealerListById = a[0].value;
            },
            goBack: function () {
                this.isCompany = false;
                this.searchInput = '';
                this.places = this.allPlaces;
                this.cityName = '';
            },

            findCity: function () {
                var _this = this;
                this.places = [];
                var searchInput = this.searchInput;
                for (let i = 0; i < this.allPlaces.length; i++) {
                    let city = this.allPlaces[i].city.filter(function wwe(item) {
                        _this.searchInput
                        return item.value.indexOf(searchInput) > -1;
                    })
                    if (city.length > 0) {
                        this.places.push({
                            title: this.allPlaces[i].title,
                            city: city
                        })
                    }
                }
            },
        }
    });
</script>
</html>
