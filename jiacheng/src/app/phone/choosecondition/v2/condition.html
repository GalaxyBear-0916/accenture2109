<!DOCTYPE html>
<html lang="en">
<head>
  <!-- 引入样式文件 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vant@2.12/lib/index.css"/>
  <!-- 引入 Vue 和 Vant 的 JS 文件 -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6/dist/vue.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vant@2.12/lib/vant.min.js"></script>
  <!-- 引入样式 -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <!-- 引入组件库 -->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script src="//unpkg.com/vue/dist/vue.js"></script>
  <script src="//unpkg.com/element-ui@2.15.6/lib/index.js"></script>
  <link rel="stylesheet" type="text/css" href="condition.css"/>
  <meta charset="UTF-8">
  <title>订单详情</title>
</head>
<body>
<div id="condition">
  <div id="background"></div>
  <div class="top">
    <img src="../../../../img/phone/logobeifen2.png"/>
    <div class="img-favourite">
      <img src="../../../../img/phone/favourite.svg">
    </div>
    <div class="img-nearest">
      <img src="../../../../img/phone/nearest.svg">
    </div>
  </div>
  <div class="car">
    <template v-for="cars in car">
      <div :class="`${cars.class}`">{{cars.text}}</div>
    </template>
    <div class="details">
      <div class="detail">
          <div class="car-detail">车牌号 {{carNumber}}</div>
          <div class="car-detail">服务顾问 成语</div>
          <div class="car-detail">工单号 312412412412</div>
          <div class="car-detail" v-on:click="open">顾问电话 51241241442</div>
      </div>
    </div>
  </div>
  <div class="schedule">
    <div class="text">服务进度</div>
  </div>
  <div class="roll">
    <div class="boxs">
      <div class="box">
        <div class="box-top">
          <div class="start">维修准备</div>
          <div class="off">已完成</div>
        </div>
        <div class="box-body">
          您的爱车已经登记进厂，车间正在进行维修准备。
        </div>
        <div class="time">2021-08-23 11:27</div>
      </div>
      <div class="box">
        <div class="box-top">
          <div class="start">调度派单</div>
          <div class="off">已完成</div>
        </div>
        <div class="box-body">
          调度已将工单派发给技师，技师将很快为您的爱车提供服务。
        </div>
        <div class="time">2021-08-23 16:47</div>
      </div>
      <div class="box">
        <div class="box-top">
          <div class="start">维修开始</div>
          <div class="on">最新</div>
        </div>
        <div class="box-body">
          您的爱车正在维修，请您耐心等待维修结束。
        </div>
        <div class="time">2021-08-24 15:24</div>
      </div>
      <div class="box">
        <div class="box-top">
          <div class="start">终检/洗车开始</div>
          <div class="off">未开始</div>
        </div>
        <div class="box-body">
          您的爱车已经进入最后的终检/洗车阶段，服务即将完成。
        </div>
        <div class="time">--:--</div>
      </div>
      <div class="box">
        <div class="box-top">
          <div class="start">准备交车</div>
          <div class="off">未开始</div>
        </div>
        <div class="box-body">
          服务完成，您可以联系顾问取车，感谢您的光临。
        </div>
        <div class="time">--:--</div>
      </div>
    </div>
  </div>
  <div class="line">
    <div class="line1"></div>
    <div class="line3">.</div>
    <div class="line2"></div>
  </div>

  <div class="wechat">
    <img src="../../../../img/phone/wechat.png"/></div>
</div>
</body>
<script>
  var condition = new Vue({
    el:'#condition',
    data:{
      carNumber: '',
      car:[
        {class:'carImg',text:''},
        {class:'current',text:'当前状态：维修开始'},
        {class:'time',text:'预计交车时间：2021-08-29 02：30'},
        {class:'text',text:'本服务由北京波士瑞达提供，本页面信息仅供参考，实际服务详情请咨询经销商'},

      ]
    },
    created() {
      this.carNumber = window.localStorage.getItem('carNumber')
      window.localStorage.clear();
    },
    methods:{
      open: function (){
        const h = this.$createElement;
        this.$msgbox({
          message: h('p', null, [
            h('span', null, '是否要拨打电话？'),
          ]),
          showCancelButton: true,
          confirmButtonText: '确定',
          cancelButtonText: '取消',
          beforeClose: (action, instance, done) => {
            if (action === 'confirm') {
              instance.confirmButtonLoading = true;
              instance.confirmButtonText = '正在呼叫...';
              setTimeout(() => {
                done();
                setTimeout(() => {
                  instance.confirmButtonLoading = false;
                }, 300);
              }, 3000);
            } else {
              done();
            }
          }
        }).then(action => {
          this.$message({
            type: 'info',
            message: 'action: ' + action
          });
        });
      }
    }
  })
  window.onload = function () {
      window.localStorage.getItem('carNumber')
  }
</script>
</html>
